@use '../../../node_modules/@digdir/ds-tokens/build/tokens.scss' as *;
@use './typography.scss' as *;

// Color variables
$checkbox-color-default: $color-interface-interaction;
$checkbox-color-disabled: $color-neutral-grey-500;
// Size variables
$checkbox-size-medium: $spacing-base-6;
$checkbox-size-large: $spacing-base-8;
$checkbox-checkmark-size-medium: $spacing-base-3;
$checkbox-checkmark-size-large: $spacing-base-5;
$checkbox-margin-label-medium: $spacing-base-2;
$checkbox-margin-label-large: $spacing-base-4;

.dads-checkbox {
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  cursor: pointer;
  @include dads-text(
    $font-size-300,
    $font-weight-regular,
    $font-line-height-30
  );

  &:focus-within {
    outline: $border-width-default solid $color-brand-third-700;
  }

  &--disabled {
    cursor: not-allowed;
    color: $checkbox-color-disabled;
  }

  & input {
    box-sizing: border-box;
    cursor: pointer;
    // Hide browser-default checkmark appearance
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    // Medium size
    width: $checkbox-size-medium;
    height: $checkbox-size-medium;
    margin: 0 $checkbox-margin-label-medium 0 0;

    border: $border-width-default solid $checkbox-color-default;

    // Checkmark format
    background-size: $checkbox-checkmark-size-medium
      $checkbox-checkmark-size-medium;
    background-repeat: no-repeat;
    background-position: 50%;

    &:disabled {
      cursor: not-allowed;
      border-color: $checkbox-color-disabled;
    }
    &:checked:not(:disabled) {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE3IDEzIj4KICA8cGF0aCBzdHJva2U9IiMwMDUxQkUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTUuMjczIDEuNjY3bC05LjMzNCA5LjY5Ny00LjI0Mi00LjQwOCIvPgo8L3N2Zz4K');
    }
    &:checked:disabled {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE3IDEzIj4KICA8cGF0aCBzdHJva2U9IiNBNUFBQjEiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTUuMjczIDEuNjY3bC05LjMzNCA5LjY5Ny00LjI0Mi00LjQwOCIvPgo8L3N2Zz4K');
    }
    &:hover:not(:disabled):not(:checked) {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE3IDEzIj4KICA8cGF0aCBzdHJva2U9IiNCQUNGRUQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTUuMjczIDEuNjY3bC05LjMzNCA5LjY5Ny00LjI0Mi00LjQwOCIvPgo8L3N2Zz4K');
    }
  }

  // Size modifiers
  &--large {
    @include dads-text(
      $font-size-400,
      $font-weight-regular,
      $font-line-height-30
    );

    & > input {
      width: $checkbox-size-large;
      height: $checkbox-size-large;
      margin-right: $checkbox-margin-label-large;
      background-size: $checkbox-checkmark-size-large
        $checkbox-checkmark-size-large;
    }
  }
}
